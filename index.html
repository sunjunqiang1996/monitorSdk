<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <input id="btn1" type="button" value="btn1">
  <input id="btn2" type="button" value="btn2">
  <input id="btn3" type="button" value="btn3">
  <input id="btn4" type="button" value="btn4">
</body>
<script type="module">
  import Monitor from './index.js'
  const opts = {
    appid: '1',
    userid: 'sjq',
    // openError: true,
    // openBehavior: true,
    openPv: true
  }
  const monitor = new Monitor(opts)
  document.querySelector('#btn1').addEventListener('click', (e) => {
    monitor.lazyReport({
      type: 'behavior',
      data: '你点击了btn2'
    })
    e.stopPropagation()
  })
  document.querySelector('#btn2').addEventListener('click', (e) => {
    history.pushState({

    }, 'page1', 'http://localhost:5500/')
  })
  document.querySelector('#btn3').addEventListener('click', (e) => {
    history.pushState({

    }, 'page2', 'http://localhost:5500/index.html')
  })
  document.querySelector('#btn4').addEventListener('click', (e) => {
    history.go(-1)
  })
  // window.addEventListener('popstate', () => {
  //   console.log('dddddddddddddddd');
  // })
</script>

</html>